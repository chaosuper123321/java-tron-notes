## Module: NodePersistService.java
模块名称：NodePersistService.java

主要目标：该模块的目的是持久化节点信息，用于节点发现。

关键功能：主要方法/函数及其作用包括：
- init(): 初始化节点持久化服务，定时将节点信息写入数据库。
- close(): 关闭节点持久化服务。
- dbRead(): 从数据库中读取节点信息并返回InetSocketAddress列表。
- dbWrite(): 将节点信息写入数据库。

关键变量：重要变量包括DB_KEY_PEERS、DB_COMMIT_RATE、MAX_NODES_WRITE_TO_DB、isNodePersist等。

相互依赖性：与其他系统组件的交互主要包括commonStore、ExecutorServiceManager、JsonUtil等。

核心操作与辅助操作：核心操作是dbRead()和dbWrite()，辅助操作包括init()和close()。

操作序列：模块操作序列包括初始化节点持久化服务、定时写入节点信息到数据库、从数据库中读取节点信息等步骤。

性能方面：需要考虑定时写入数据库的性能影响，以及数据库读写操作的效率。

可重用性：该模块具有良好的适应性，可以根据需要重复使用节点持久化功能。

用法：NodePersistService模块用于管理节点信息的持久化存储，通过调用相应方法实现节点信息的读取和写入操作。

假设：假设模块运行环境中已配置好相关数据库和线程池管理，并且节点发现持久化功能已开启。
## Flow Diagram [via mermaid]
```mermaid
graph TD
A[NodePersistService] -->|calls| B[CommonParameter]
A -->|calls| C[ExecutorServiceManager]
A -->|calls| D[JsonUtil]
A -->|calls| E[CommonStore]
A -->|calls| F[TronNetService]
A -->|calls| G[DBNodes]
A -->|calls| H[DBNode]
A -->|calls| I[Node]
A -->|calls| J[InetSocketAddress]
A -->|calls| K[ByteArray]
B -->|returns| L
C -->|calls| M
D -->|calls| N
E -->|calls| O
F -->|calls| P
G -->|calls| Q
H -->|contains| R
I -->|contains| S
J -->|contains| T
K -->|checks| U
L -->|returns| V
M -->|calls| W
N -->|calls| X
O -->|calls| Y
P -->|calls| Z
Q -->|contains| AA
R -->|has| AB
S -->|has| AC
T -->|has| AD
U -->|checks| AE
V -->|returns| AF
W -->|calls| AG
X -->|calls| AH
Y -->|calls| AI
Z -->|calls| AJ
AA -->|contains| AK
AB -->|has| AL
AC -->|has| AM
AD -->|has| AN
AE -->|checks| AO
AF -->|returns| AP
AG -->|calls| AQ
AH -->|calls| AR
AI -->|calls| AS
AJ -->|calls| AT
AK -->|contains| AU
AL -->|has| AV
AM -->|has| AW
AN -->|has| AX
AO -->|checks| AY
AP -->|returns| AZ
AQ -->|calls| BA
AR -->|calls| BB
AS -->|calls| BC
AT -->|calls| BD
AU -->|contains| BE
AV -->|has| BF
AW -->|has| BG
AX -->|has| BH
AY -->|checks| BI
AZ -->|returns| BJ
BA -->|calls| BK
BB -->|calls| BL
BC -->|calls| BM
BD -->|calls| BN
BE -->|contains| BO
BF -->|has| BP
BG -->|has| BQ
BH -->|has| BR
BI -->|checks| BS
BJ -->|returns| BT
BK -->|calls| BU
BL -->|calls| BV
BM -->|calls| BW
BN -->|calls| BX
BO -->|contains| BY
BP -->|has| BZ
BQ -->|has| CA
BR -->|has| CB
BS -->|checks| CC
BT -->|returns| CD
BU -->|calls| CE
BV -->|calls| CF
BW -->|calls| CG
BX -->|calls| CH
BY -->|contains| CI
BZ -->|has| CJ
CA -->|has| CK
CB -->|has| CL
CC -->|checks| CM
CD -->|returns| CN
CE -->|calls| CO
CF -->|calls| CP
CG -->|calls| CQ
CH -->|calls| CR
CI -->|contains| CS
CJ -->|has| CT
CK -->|has| CU
CL -->|has| CV
CM -->|checks| CW
CN -->|returns| CX
CO -->|calls| CY
CP -->|calls| CZ
CQ -->|calls| DA
CR -->|calls| DB
CS -->|contains| DC
CT -->|has| DD
CU -->|has| DE
CV -->|has| DF
CW -->|checks| DG
CX -->|returns| DH
CY -->|calls| DI
CZ -->|calls| DJ
DA -->|calls| DK
DB -->|calls| DL
DC -->|contains| DM
DD -->|has| DN
DE -->|has| DO
DF -->|has| DP
DG -->|checks| DQ
DH -->|returns| DR
DI -->|calls| DS
DJ -->|calls| DT
DK -->|calls| DU
DL -->|calls| DV
DM -->|contains| DW
DN -->|has| DX
DO -->|has| DY
DP -->|has| DZ
DQ -->|checks| EA
DR -->|returns| EB
DS -->|calls| EC
DT -->|calls| ED
DU -->|calls| EE
DV -->|calls| EF
DW -->|contains| EG
DX -->|has| EH
DY -->|has| EI
DZ -->|has| EJ
EA -->|checks| EK
EB -->|returns| EL
EC -->|calls| EM
ED -->|calls| EN
EE -->|calls| EO
EF -->|calls| EP
EG -->|contains| EQ
EH -->|has| ER
EI -->|has| ES
EJ -->|has| ET
EK -->|checks| EU
EL -->|returns| EV
EM -->|calls| EW
EN -->|calls| EX
EO -->|calls| EY
EP -->|calls| EZ
EQ -->|contains| FA
ER -->|has| FB
ES -->|has| FC
ET -->|has| FD
EU -->|checks| FE
EV -->|returns| FF
EW -->|calls| FG
EX -->|calls| FH
EY -->|calls| FI
EZ -->|calls| FJ
FA -->|contains| FK
FB -->|has| FL
FC -->|has| FM
FD -->|has| FN
FE -->|checks| FO
FF -->|returns| FP
FG -->|calls| FQ
FH -->|calls| FR
FI -->|calls| FS
FJ -->|calls| FT
FK -->|contains| FU
FL -->|has| FV
FM -->|has| FW
FN -->|has| FX
FO -->|checks| FY
FP -->|returns| FZ
FQ -->|calls| GA
FR -->|calls| GB
FS -->|calls| GC
FT -->|calls| GD
FU -->|contains| GE
FV -->|has| GF
FW -->|has| GG
FX -->|has| GH
FY -->|checks| GI
FZ -->|returns| GJ
GA -->|calls| GK
GB -->|calls| GL
GC -->|calls| GM
GD -->|calls| GN
GE -->|contains| GO
GF -->|has| GP
GG -->|has| GQ
GH -->|has| GR
GI -->|checks| GS
GJ -->|returns| GT
GK -->|calls| GU
GL -->|calls| GV
GM -->|calls| GW
GN -->|calls| GX
GO -->|contains| GY
GP -->|has| GZ
GQ -->|has| HA
GR -->|has| HB
GS -->|checks| HC
GT -->|returns| HD
GU -->|calls| HE
GV -->|calls| HF
GW -->|calls| HG
GX -->|calls| HH
GY -->|contains| HI
GZ -->|has| HJ
HA -->|has| HK
HB -->|has| HL
HC -->|checks| HM
HD -->|returns| HN
HE -->|calls| HO
HF -->|calls| HP
HG -->|calls| HQ
HH -->|calls| HR
HI -->|contains| HS
HJ -->|has| HT
HK -->|has| HU
HL -->|has| HV
HM -->|checks| HW
HN -->|returns| HX
HO -->|calls| HY
HP -->|calls| HZ
HQ -->|calls| IA
HR -->|calls| IB
HS -->|contains| IC
HT -->|has| ID
HU -->|has| IE
HV -->|has| IF
HW -->|checks| IG
HX -->|returns| IH
HY -->|calls| II
HZ -->|calls| IJ
IA -->|calls| IK
IB -->|calls| IL
IC -->|contains| IM
ID -->|has| IN
IE -->|has| IO
IF -->|has| IP
IG -->|checks| IQ
IH -->|returns| IR
II -->|calls| IS
IJ -->|calls| IT
IK -->|calls| IU
IL -->|calls| IV
IM -->|contains| IW
IN -->|has| IX
IO -->|has| IY
IP -->|has| IZ
IQ -->|checks| JA
IR -->|returns| JB
IS -->|calls| JC
IT -->|calls| JD
IU -->|calls| JE
IV -->|calls| JF
IW -->|contains| JG
IX -->|has| JH
IY -->|has| JI
IZ -->|has| JJ
JA -->|checks| JK
JB -->|returns| JL
JC -->|calls| JM
JD -->|calls| JN
JE -->|calls| JO
JF -->|calls| JP
JG -->|contains| JQ
JH -->|has| JR
JI -->|has| JS
JJ -->|has| JT
JK -->|checks| JU
JL -->|returns| JV
JM -->|calls| JW
JN -->|calls| JX
JO -->|calls| JY
JP -->|calls| JZ
JQ -->|contains| KA
JR -->|has| KB
JS -->|has| KC
JT -->|has| KD
JU -->|checks| KE
JV -->|returns| KF
JW -->|calls| KG
JX -->|calls| KH
JY -->|calls| KI
JZ -->|calls| KJ
KA -->|contains| KK
KB -->|has| KL
KC -->|has| KM
KD -->|has| KN
KE -->|checks| KO
KF -->|returns| KP
KG -->|calls| KQ
KH -->|calls| KR
KI -->|calls| KS
KJ -->|calls| KT
KK -->|contains| KU
KL -->|has| KV
KM -->|has| KW
KN -->|has| KX
KO -->|checks| KY
KP -->|returns| KZ
KQ -->|calls| LA
KR -->|calls| LB
KS -->|calls| LC
KT -->|calls| LD
KU -->|contains| LE
KV -->|has| LF
KW -->|has| LG
KX -->|has| LH
KY -->|checks| LI
KZ -->|returns| LJ
LA -->|calls| LK
LB -->|calls| LL
LC -->|calls| LM
LD -->|calls| LN
LE -->|contains| LO
LF -->|has| LP
LG -->|has| LQ
LH -->|has| LR
LI -->|checks| LS
LJ -->|returns| LT
LK -->|calls| LU
LL -->|calls| LV
LM -->|calls| LW
LN -->|calls| LX
LO -->|contains| LY
LP -->|has| LZ
LQ -->|has| MA
LR -->|has| MB
LS -->|checks| MC
LT -->|returns| MD
LU -->|calls| ME
LV -->|calls| MF
LW -->|calls| MG
LX -->|calls| MH
LY -->|contains| MI
LZ -->|has| MJ
MA -->|has| MK
MB -->|has| ML
MC -->|checks| MM
MD -->|returns| MN
ME -->|calls| MO
MF -->|calls| MP
MG -->|calls| MQ
MH -->|calls| MR
MI -->|contains| MS
MJ -->|has| MT
MK -->|has| MU
ML -->|has| MV
MM -->|checks| MW
MN -->|returns| MX
MO -->|calls| MY
MP -->|calls| MZ
MQ -->|calls| NA
MR -->|calls| NB
MS -->|contains| NC
MT -->|has| ND
MU -->|has| NE
MV -->|has| NF
MW -->|checks| NG
MX -->|returns| NH
MY -->|calls| NI
MZ -->|calls| NJ
NA -->|calls| NK
NB -->|calls| NL
NC -->|contains| NM
ND -->|has| NN
NE -->|has| NO
NF -->|has| NP
NG -->|checks| NQ
NH -->|returns| NR
NI -->|calls| NS
NJ -->|calls| NT
NK -->|calls| NU
NL -->|calls| NV
NM -->|contains| NW
NN -->|has| NX
NO -->|has| NY
NP -->|has| NZ
NQ -->|checks| OA
NR -->|returns| OB
NS -->|calls| OC
NT -->|calls| OD
NU -->|calls| OE
NV -->|calls| OF
NW -->|contains| OG
NX -->|has| OH
NY -->|has| OI
NZ -->|has| OJ
OA -->|checks| OK
OB -->|returns| OL
OC -->|calls| OM
OD -->|calls| ON
OE -->|calls| OO
OF -->|calls| OP
OG -->|contains| OQ
OH -->|has| OR
OI -->|has| OS
OJ -->|has| OT
OK -->|checks| OU
OL -->|returns| OV
OM -->|calls| OW
ON -->|calls| OX
OO -->|calls| OY
OP -->|calls| OZ
OQ -->|contains| PA
OR -->|has| PB
OS -->|has| PC
OT -->|has| PD
OU -->|checks| PE
OV -->|returns| PF
OW -->|calls| PG
OX -->|calls| PH
OY -->|calls| PI
OZ -->|calls| PJ
PA -->|contains| PK
PB -->|has| PL
PC -->|has| PM
PD -->|has| PN
PE -->|checks| PO
PF -->|returns| PP
PG -->|calls| PQ
PH -->|calls| PR
PI -->|calls| PS
PJ -->|calls| PT
PK -->|contains| PU
PL -->|has| PV
PM -->|has| PW
PN -->|has| PX
PO -->|checks| PY
PP -->|returns| PZ
PQ -->|calls| QA
PR -->|calls| QB
PS -->|calls| QC
PT -->|calls| QD
PU -->|contains| QE
PV -->|has| QF
PW -->|has| QG
PX -->|has| QH
PY -->|checks| QI
PZ -->|returns| QJ
QA -->|calls| QK
QB -->|calls| QL
QC -->|calls| QM
QD -->|calls| QN
QE -->|contains| QO
QF -->|has| QP
QG -->|has| QQ
QH -->|has| QR
QI -->|checks| QS
QJ -->|returns| QT
QK -->|calls| QU
QL -->|calls| QV
QM -->|calls| QW
QN -->|calls| QX
QO -->|contains| QY
QP -->|has| QZ
QQ -->|has| RA
QR -->|has| RB
QS -->|checks| RC
QT -->|returns| RD
QU -->|calls| RE
QV -->|calls| RF
QW -->|calls| RG
QX -->|calls| RH
QY -->|contains| RI
QZ -->|has| RJ
RA -->|has| RK
RB -->|has| RL
RC -->|checks| RM
RD -->|returns| RN
RE -->|calls| RO
RF -->|calls| RP
RG -->|calls| RQ
RH -->|calls| RR
RI -->|contains| RS
RJ -->|has| RT
RK -->|has| RU
RL -->|has| RV
RM -->|checks| RW
RN -->|returns| RX
RO -->|calls| RY
RP -->|calls| RZ
RQ -->|calls| SA
RR -->|calls| SB
RS -->|contains| SC
RT -->|has| SD
RU -->|has| SE
RV -->|has| SF
RW -->|checks| SG
RX -->|returns| SH
RY -->|calls| SI
RZ -->|calls| SJ
SA -->|calls| SK
SB -->|calls| SL
SC -->|contains| SM
SD -->|has| SN
SE -->|has| SO
SF -->|has| SP
SG -->|checks| SQ
SH -->|returns| SR
SI -->|calls| SS
SJ -->|calls| ST
SK -->|calls| SU
SL -->|calls| SV
SM -->|contains| SW
SN -->|has| SX
SO -->|has| SY
SP -->|has| SZ
SQ -->|checks| TA
SR -->|returns| TB
SS -->|calls| TC
ST -->|calls| TD
SU -->|calls| TE
SV -->|calls| TF
SW -->|contains| TG
SX -->|has| TH
SY -->|has| TI
SZ -->|has| TJ
TA -->|checks| TK
TB -->|returns| TL
TC -->|calls| TM
TD -->|calls| TN
TE -->|calls| TO
TF -->|calls| TP
TG -->|contains| TQ
TH -->|has| TR
TI -->|has| TS
TJ -->|has| TT
TK -->|checks| TU
TL -->|returns| TV
TM -->|calls| TW
TN -->|calls| TX
TO -->|calls| TY
TP -->|calls| TZ
TQ -->|contains| UA
TR -->|has| UB
TS -->|has| UC
TT -->|has| UD
TU -->|checks| UE
TV -->|returns| UF
TW -->|calls| UG
TX -->|calls| UH
TY -->|calls| UI
TZ -->|calls| UJ
UA -->|contains| UK
UB -->|has| UL
UC -->|has|
```
